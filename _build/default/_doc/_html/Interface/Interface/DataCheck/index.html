<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>DataCheck (Interface.Interface.DataCheck)</title><link rel="stylesheet" href="../../../_odoc_support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Interface</a> &#x00BB; <a href="../index.html">Interface</a> &#x00BB; DataCheck</nav><header class="odoc-preamble"><h1>Module <code><span>Interface.DataCheck</span></code></h1><p>Representation of operations to mainly to read JSON files</p><p>This module represents operations that are mainly used to read JSON files. Our JSON file represents our database, and in this file we extract accounts from the JSON file and add accounts to the file, among other operations.</p><p>Note that certain functions that return a string return that string with two double quotes, such as &quot;&quot;x&quot;&quot; to correctly manipulate a JSON file. The specifications specify which functions return a string with two double quotes and one double quote.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-json_file" class="anchored"><a href="#val-json_file" class="anchor"></a><code><span><span class="keyword">val</span> json_file : <span class="xref-unresolved">Yojson</span>.Basic.t</span></code></div><div class="spec-doc"><p><code>json_file</code> is the file where the data is coming from.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-from_json" class="anchored"><a href="#val-from_json" class="anchor"></a><code><span><span class="keyword">val</span> from_json : <span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span> <a href="../FileWrite/index.html#type-t">FileWrite.t</a></span></code></div><div class="spec-doc"><p><code>from_json json</code> is all the accounts that <code>json</code> represents. Raises <code>Failure s</code> if <code>from_json</code> applied to wrong type of JSON element.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-account_name" class="anchored"><a href="#val-account_name" class="anchor"></a><code><span><span class="keyword">val</span> account_name : <span><a href="../FileWrite/index.html#type-t">FileWrite.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string)</span> list</span></span></code></div><div class="spec-doc"><p><code>account_name accounts</code> is a list of all usernames and password as tuples in accounts <code>accounts</code>. The outputted strings in the tuple is with two double quote.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_new_account" class="anchored"><a href="#val-make_new_account" class="anchor"></a><code><span><span class="keyword">val</span> make_new_account : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../FileWrite/index.html#type-t">FileWrite.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../FileWrite/index.html#type-t">FileWrite.t</a></span></code></div><div class="spec-doc"><p><code>make_new_account u p t</code> adds account with username <code>u</code> and password <code>p</code> to the account list in <code>t</code>. Helper function for add_account.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_account" class="anchored"><a href="#val-add_account" class="anchor"></a><code><span><span class="keyword">val</span> add_account : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../FileWrite/index.html#type-t">FileWrite.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>add_account u p t</code> adds a new account to the json file with username <code>u</code> and password <code>p</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_stock" class="anchored"><a href="#val-add_stock" class="anchor"></a><code><span><span class="keyword">val</span> add_stock : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FileWrite/index.html#type-t">FileWrite.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>add_stock u p t stock price</code> adds stock <code>stock</code> with investment price <code>price</code> to the account with username <code>u</code> and password <code>p</code> in the list of accounts <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-data_sell_stock" class="anchored"><a href="#val-data_sell_stock" class="anchor"></a><code><span><span class="keyword">val</span> data_sell_stock : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FileWrite/index.html#type-t">FileWrite.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>sell_stock u p t stock</code> sells one share of stock <code>stock</code> that is invested under user <code>u</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_stocks" class="anchored"><a href="#val-get_stocks" class="anchor"></a><code><span><span class="keyword">val</span> get_stocks : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../FileWrite/index.html#type-t">FileWrite.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * string * string)</span> list</span></span></code></div><div class="spec-doc"><p><code>get_stocks u p t</code> is all the stocks that account with username <code>u</code> and password <code>p</code> bought among the accounts <code>t</code>. Returns a list of tuples that contains the stocks' names, prices, and numbers of shares bought. The strings in the tuple in the output are with two double quotes. Raises <code>Not_found</code> if account not found.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_balance" class="anchored"><a href="#val-get_balance" class="anchor"></a><code><span><span class="keyword">val</span> get_balance : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../FileWrite/index.html#type-t">FileWrite.t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>get_balance u p t</code> gets the balance from account associated username <code>u</code> and password <code>p</code> in accounts <code>t</code> and returns the balance. The output is with two double quotes. Raises <code>Not_found</code> if account not found.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_current_prices" class="anchored"><a href="#val-get_current_prices" class="anchor"></a><code><span><span class="keyword">val</span> get_current_prices : 
  <span><span><span>(string * string * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * string * string * string)</span> list</span></span></code></div><div class="spec-doc"><p><code>get_current_prices lst</code> takes in a list <code>lst</code> of tuples that contains the stocks name, price, and number of shares bought and returns a list of the tuples contains the name, current price of the stock, and the number of shares bought. The strings in the tuple in the output are with one double quote.</p></div></div></div></body></html>